
@{
    ViewBag.Title = "Index";
}

<style type="text/css">
    html, body {
        margin: 0;
        padding: 0;
        border: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }

    .tab1 tr {
        height: 36px;
    }

        .tab1 tr td:nth-child(odd) {
            width: 100px;
            padding-right: 3px;
        }
</style>

<div class="mini-toolbar" style="padding: 2px; border-bottom:0;">
    <table style="width: 100%;">
        <tr>
            <td style="white-space: nowrap;">
                <label>Name: </label>
                <input class="mini-textbox" iconCls="icon-search" id="txtName" maxlength="20" />&nbsp;&nbsp;
                <a class="mini-button" iconCls="icon-search" id="btnSearch" onclick="onSearchClick()">Search</a>&nbsp;&nbsp;
            </td>
        </tr>
    </table>
</div>

<div class="mini-fit">

    <div id="datagrid1" class="mini-datagrid" style="width: 100%; height: 100%;"
         url="~/System/Role/List" idField="Id" sizeList="[10,30,50]" pageSize="10" allowAlternating="true"
         allowResizeColumn="false" allowMoveColumn="false" showEmptyText="true" emptyText="暂无数据" autoLoad="false"
         onloaderror="onDataGridLoadError()">
        <div property="columns">
            <div type="indexcolumn" width="40">No.</div>
            <div field="Name" width="140" headerAlign="center" allowSort="true" align="center">Name</div>
            <div field="Remark" width="auto">Remark</div>
            <div width="140" headerAlign="center" align="center" renderer="onOperateRender">Operate</div>
        </div>
    </div>

</div>

<div id="win1" class="mini-window" title="查看菜单权限" style="width: 700px; height: 400px; display: none;"
     showShadow="true" showModal="true" iconCls="icon-node">
    <div class="mini-toolbar" style="padding: 2px; border-bottom:0;">
        <table style="width: 100%;">
            <tr>
                <td style="white-space: nowrap;">
                    <a class="mini-button" iconCls="icon-reload" id="btnRefresh" onclick="onRefreshClick()">Refresh</a>&nbsp;&nbsp;
                    <a class="mini-button" iconCls="icon-edit" id="btnEdit" onclick="onResetClick()">Reset</a>&nbsp;&nbsp;
                </td>
            </tr>
        </table>
    </div>

    <div class="mini-fit">
        <div id="treegrid1" class="mini-treegrid" style="width: 100%; height: 100%;"
             showTreeIcon="true" treeColumn="tree1" idField="MenuId" parentField="MenuParentId" resultAsTree="false" allowMoveColumn="false" allowResizeColumn="false">
            <div property="columns">
                <div type="indexcolumn" width="50" headerAlign="center">No.</div>
                <div name="tree1" field="MenuName" width="200">Menu Name</div>
                <div width="auto" field="Permissions" renderer="onPermissionsRender">Permissions</div>
            </div>
        </div>
    </div>
</div>

<div id="win2" class="mini-window" title="重设菜单权限" style="width: 850px; height: 100%; display: none;"
     showShadow="true" showModal="true" iconCls="icon-node">
    <div class="mini-toolbar" style="padding: 2px; border-bottom: 0;">
        <table style="width: 100%;">
            <tr>
                <td style="white-space: nowrap;">
                    <a class="mini-button" iconCls="icon-ok" id="btnEdit" onclick="onResetOkClick()">Ok</a>&nbsp;&nbsp;
                </td>
            </tr>
        </table>
    </div>

    <div class="mini-fit">
        <div id="treegrid2" class="mini-treegrid" style="width: 100%; height: 100%;"
             showTreeIcon="true" treeColumn="tree1" idField="Id" parentField="ParentId" resultAsTree="false" allowMoveColumn="false" allowResizeColumn="false"
             expandOnLoad="true">
            <div property="columns">
                <div type="indexcolumn" width="50" headerAlign="center">No.</div>
                <div name="tree1" field="Name" width="200">Name</div>
                <div width="auto" field="Permissions" renderer="onPermissions1Render">Permissions</div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript" src="~/Static/Js/Config.js"></script>
<script type="text/javascript" src="~/Static/Js/Common/Consts.js"></script>
<script type="text/javascript" src="~/Static/Js/Common/Extend.js"></script>
<script type="text/javascript" src="~/Static/Js/Common/MiniuiTool.js"></script>
<script type="text/javascript" src="~/Static/Js/Common/RegTool.js"></script>
<script type="text/javascript" src="~/Static/Js/System/Role.js?ran=2"></script>
